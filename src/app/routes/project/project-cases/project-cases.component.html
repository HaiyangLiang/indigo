<div>
  <div class="content__title">
    <h1 style="padding-left: 10px;">{{'content-title-case-list'|translate}}</h1>
    <app-project-breadcrumb></app-project-breadcrumb>
  </div>
  <nz-card [nzBordered]="false">
    <nz-list [nzDataSource]="items" [nzItemLayout]="'horizontal'" [nzRenderItem]="item" [nzPagination]="pagination"
      [nzLoading]="loading" [nzHeader]="nzHeader">
      <ng-template #nzHeader>
        <app-case-search-panel [(data)]="search" [subject]="panelSubject"></app-case-search-panel>
      </ng-template>
      <ng-template #item let-item>
        <nz-list-item [nzContent]="nzContent" [nzActions]="[edit]">
          <nz-list-item-meta [nzTitle]="nzTitle" [nzDescription]="nzDescription">
            <ng-template #nzTitle>
              <a [routerLink]="[getRouter(item)]">{{item.summary}}</a>
            </ng-template>
            <ng-template #nzDescription>
              <nz-tag [nzColor]="methodTagColor(item)">{{item.request.method}}</nz-tag>
              <span>{{item.request.urlPath}}</span>
              <span class="user-info">
                <span style="font-size:small;">{{item.createdAt}}</span>
                <nz-divider nzType="vertical"></nz-divider>
                <nz-avatar nz-popover [nzContent]="popoverContent" style="cursor:pointer;" nzSize="small" [nzText]="userText(item)"
                  [nzSrc]="userAvatar(item)">
                  <ng-template #popoverContent>
                    <app-profile-simple [data]="users[item.creator]"></app-profile-simple>
                  </ng-template>
                </nz-avatar>
              </span>
            </ng-template>
          </nz-list-item-meta>
          <ng-template #edit>
            <button nz-button nzSize="small" nzType="default" (click)="editItem(item)">
              <i class="anticon anticon-setting"></i>
            </button>
            <nz-divider nzType="vertical"></nz-divider>
            <button nz-button nzSize="small" nzType="default" (click)="deleteItem(item)">
              <i class="anticon anticon-delete"></i>
            </button>
          </ng-template>
        </nz-list-item>
      </ng-template>
      <ng-template #pagination>
        <nz-pagination [(nzPageIndex)]="pageIndex" [nzShowTotal]="totalTemplate" [nzTotal]="pageTotal" [nzPageSize]="pageSize"
          (nzPageIndexChange)="pageChange()">
          <ng-template #totalTemplate let-total>
            <span style="color:lightgray;">
              <span>{{'item-total'|translate}}</span>
              <span> {{total}} </span>
              <span>{{'item-item'|translate}}</span>
            </span>
          </ng-template>
        </nz-pagination>
      </ng-template>
    </nz-list>
  </nz-card>
</div>
